// @stripe/connect-js@3.3.25 downloaded from https://ga.jspm.io/npm:@stripe/connect-js@3.3.25/dist/connect.esm.js

/* eslint-disable @typescript-eslint/no-empty-function */
/* eslint-disable @typescript-eslint/no-unused-vars */
const t={setOnLoadError:t=>{},setOnLoaderStart:t=>{}};const e={"account-onboarding":{setFullTermsOfServiceUrl:t=>{},setRecipientTermsOfServiceUrl:t=>{},setPrivacyPolicyUrl:t=>{},setSkipTermsOfServiceCollection:t=>{},setCollectionOptions:t=>{},setOnExit:t=>{},setOnStepChange:t=>{}},"account-management":{setCollectionOptions:t=>{}},"notification-banner":{setCollectionOptions:t=>{},setOnNotificationsChange:t=>{}},"issuing-card":{setDefaultCard:t=>{},setCardSwitching:t=>{},setFetchEphemeralKey:t=>{},setShowSpendControls:t=>{}},"issuing-cards-list":{setFetchEphemeralKey:t=>{},setShowSpendControls:t=>{},setIssuingProgram:t=>{}},"financial-account":{setFinancialAccount:t=>{}},"financial-account-transactions":{setFinancialAccount:t=>{}},payments:{setDefaultFilters:t=>{}},"payment-details":{setPayment:t=>{},setOnClose:t=>{}},"payment-disputes":{setPayment:t=>{},setOnDisputesLoaded:t=>{}},"tax-settings":{setHideProductTaxCodeSelector:t=>{},setDisplayHeadOfficeCountries:t=>{},setOnTaxSettingsUpdated:t=>{}},"tax-registrations":{setOnAfterTaxRegistrationAdded:t=>{},setDisplayCountries:t=>{}}};const n={"account-onboarding":"stripe-connect-account-onboarding","disputes-list":"stripe-connect-disputes-list",payments:"stripe-connect-payments","payment-details":"stripe-connect-payment-details","payment-disputes":"stripe-connect-payment-disputes",payouts:"stripe-connect-payouts","payouts-list":"stripe-connect-payouts-list",balances:"stripe-connect-balances","account-management":"stripe-connect-account-management","notification-banner":"stripe-connect-notification-banner","issuing-card":"stripe-connect-issuing-card","issuing-cards-list":"stripe-connect-issuing-cards-list","financial-account":"stripe-connect-financial-account","financial-account-transactions":"stripe-connect-financial-account-transactions",documents:"stripe-connect-documents","tax-registrations":"stripe-connect-tax-registrations","tax-settings":"stripe-connect-tax-settings"};const s="loadConnect was called but an existing Connect.js script already exists in the document; existing script parameters will be used";const o="https://connect-js.stripe.com/v0.1/connect.js";const i="https://connect-js.stripe.com/v1.0/connect.js";const c=()=>document.querySelectorAll(`script[src="${i}"]`)[0]||document.querySelectorAll(`script[src="${o}"]`)[0]||null;const r=()=>{const t=document.createElement("script");t.src=i;const e=document.head;if(!e)throw new Error("Expected document.head not to be null. Connect.js requires a <head> element.");document.head.appendChild(t);return t};let a=null;const l=t=>!!(t&&typeof t==="object"&&"init"in t&&typeof t.init==="function");const d=()=>{if(a!==null)return a;a=new Promise(((t,e)=>{if(typeof window!=="undefined")if(l(window.StripeConnect)){console.warn(s);const e=m(window.StripeConnect);t(e)}else try{let n=c();n?console.warn(s):n||(n=r());n.addEventListener("load",(()=>{if(l(window.StripeConnect)){const e=m(window.StripeConnect);t(e)}else e(new Error("Connect.js did not load the necessary objects"))}));n.addEventListener("error",(()=>{e(new Error("Failed to load Connect.js"))}))}catch(t){e(t)}else e("ConnectJS won't load when rendering code in the server - it can only be loaded on a browser. This error is expected when loading ConnectJS in SSR environments, like NextJS. It will have no impact in the UI, however if you wish to avoid it, you can switch to the `pure` version of the connect.js loader: https://github.com/stripe/connect-js#importing-loadconnect-without-side-effects.")}));return a};const p=t=>t in e;const u=(s,o)=>{var i;const c=(()=>{try{return o.fetchClientSecret()}catch(t){return Promise.reject(t)}})();const r=(i=o.metaOptions)!==null&&i!==void 0?i:{};const a=s.then((t=>t.initialize(Object.assign(Object.assign({},o),{metaOptions:Object.assign(Object.assign({},r),{eagerClientSecretPromise:c})}))));return{create:s=>{let o=n[s];o||(o=s);const i=document.createElement(o);const c=p(s)?e[s]:{};const r=Object.assign(Object.assign({},c),t);for(const t in r)i[t]=function(e){a.then((()=>{this[`${t}InternalOnly`](e)}))};a.then((t=>{if(!i.isConnected&&!i.setConnector){const t=i.style.display;i.style.display="none";document.body.appendChild(i);document.body.removeChild(i);i.style.display=t}if(!i||!i.setConnector)throw new Error(`Element ${s} was not transformed into a custom element. Are you using a documented component? See https://docs.stripe.com/connect/supported-embedded-components for a list of supported components`);i.setConnector(t.connect)}));return i},update:t=>{a.then((e=>{e.update(t)}))},debugInstance:()=>a,logout:()=>a.then((t=>t.logout()))}};const m=t=>{window.StripeConnect=window.StripeConnect||{};window.StripeConnect.optimizedLoading=true;const e={initialize:e=>{var n;const s=(n=e.metaOptions)!==null&&n!==void 0?n:{};const o=t.init(Object.assign(Object.assign({},e),{metaOptions:Object.assign(Object.assign({},s),{sdk:true,sdkOptions:{sdkVersion:"3.3.25"}})}));return o}};return e};const h=Promise.resolve().then((()=>d()));let g=false;h.catch((t=>{g||console.warn(t)}));const y=t=>{g=true;return u(h,t)};export{y as loadConnectAndInitialize};

